<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.surpass.persistence.mapper.JournalAccountMapper">

	<select id="pageList"
		parameterType="com.surpass.entity.journal.dto.JournalAccountPageDto"
		resultType="com.surpass.entity.journal.JournalAccount">
		select jja.*
		from jbx_journal_account jja

		where jja.deleted = 'n'
			and jja.book_id = #{dto.bookId}
		<if test="dto.accName != null and dto.accName != ''">
			and jja.acc_name like CONCAT('%', #{dto.accName}, '%')
		</if>
		order by jja.created_date desc
	</select>
</mapper>
